'$schema': '../../schemas/open-microfrontends.json'
openMicrofrontends: 1.0.0
servers:
  - url: http://my-test-server.com
    description: Test Server
securitySchemes:
  BasicAuth:
    type: http
    scheme: basic
  BearerAuth:
    type: http
    scheme: bearer
  ApiKeyAuth:
    type: apiKey
    in: header
    name: X-API-Key
microfrontends:
  - name: My First Microfrontend
    title:
      en: My First Microfrontend
      de: Mein erstes Microfrontend
    description: test
    frontendPermissions:
      - perm1
      - perm2
    security:
      - BasicAuth: []
    resources:
      js:
        - app.js
      css:
        - app.css
    paths:
      resourcesBase: '/'
      ssrHtml: '/ssr'
    globalLaunchFunction: startMyFirstMicrofrontend
    apiProxies:
      proxy1:
        url: https://test.com/foo
        security:
          - ApiKeyAuth: []
      proxy2: ws://test2.com/bar
    config:
      schema:
        type: object
        properties:
          customerId:
            type: string
        required:
          - customerId
        additionalProperties: false
      default:
        customerId: '1000'
    messages:
      ping:
        publish: true
        subscribe: true
        schema:
          '$id': https://my-company.com/messages/ping
          type: object
          properties:
            ping:
              const: true
          required:
          - ping
    annotations:
      MY_COCKPIT_CAPABILITIES_META:
        businessEntity: Customer
        contentType: overview
      MASHROOM_FRONTEND_PERMISSIONS_MAPPING:
        perm1:
          - role1
        perm2:
          - role2
          - Administrator
      MASHROOM_VIEW_ROLES:
        - role1
      MASHROOM_PROXY_ACCESS_ROLES:
        proxy1:
          - role1
