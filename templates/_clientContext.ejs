// Client context for Microfrontend: <%-spec.microfrontends[i].name%>
type Microfrontend<%-i+1-%>Context = {
    // The unique ID of this Microfrontend instance
    readonly id?: string;
    // Two-letter language code (e.g., "fr")
    readonly lang?: string;
    readonly user?: {
        readonly guest: boolean;
        readonly username: string;
        readonly displayName: string;
        <% if (spec.microfrontends[i].frontendPermissions && spec.microfrontends[i].frontendPermissions.length > 0) { %>
        readonly permissions: {
            <% spec.microfrontends[i].frontendPermissions.forEach((permissionKey) => { %>
            readonly '<%-permissionKey%>': boolean;
            <% }) %>
        };
        <% } %>
    },
    <% if (spec.microfrontends[i].apiProxies && Object.keys(spec.microfrontends[i].apiProxies).length > 0) { %>
    readonly apiProxyPaths: {
        <% Object.keys(spec.microfrontends[i].apiProxies).forEach((proxyId) => { %>
        readonly '<%-proxyId%>': string;
        <% }) %>
    },
    <% } %>
    readonly config: Partial<<%-configSchemaTypes[i].ifName-%>>;
    <% if (spec.microfrontends[i].messages && Object.keys(spec.microfrontends[i].messages).length > 0) { %>
    readonly messageBus: {
        publish(topic: string, data: object): void;
        subscribe(topic: string, cb: (data: object) => void): void;
        unsubscribe(topic: string, cb: (data: object) => void): void;
    };
    <% } %>
}
